# ЁЯУК PlayerStatsManager Setup Guide

## ЁЯОп р╕ар╕▓р╕Юр╕гр╕зр╕б
`PlayerStatsManager` р╣Ар╕Ыр╣Зр╕Щ Component р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕Цр╕▓р╕Щр╕░р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф р╕гр╕зр╕бр╕Цр╕╢р╕Зр╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕кр╕Цр╕▓р╕Щр╕░р╕Ир╕▓р╕Б Equipment р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х UI р╣Бр╕Ър╕Ъ real-time

## тЬи р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Б

### ЁЯУИ р╕гр╕░р╕Ър╕Ър╕кр╕Цр╕▓р╕Щр╕░
- **Health & Mana** - HP/MP р╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▓р╕гр╕Яр╕╖р╣Йр╕Щр╕Яр╕╣р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- **Combat Stats** - Attack, Defense, Speed
- **Equipment Integration** - р╕Др╕│р╕Щр╕зр╕Ур╕кр╕Цр╕▓р╕Щр╕░р╕гр╕зр╕бр╕Ир╕▓р╕Б Equipment р╕Чр╕╡р╣Ир╕кр╕зр╕бр╣Гр╕кр╣И
- **Real-time Updates** - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х UI р╕Чр╕▒р╕Щр╕Чр╕╡р╣Ар╕бр╕╖р╣Ир╕нр╕кр╕Цр╕▓р╕Щр╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ

### ЁЯОо р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- **Heal/Take Damage** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г HP
- **Use/Restore Mana** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г MP
- **Item Usage** - р╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Яр╕╖р╣Йр╕Щр╕Яр╕╣
- **Regeneration** - р╕Яр╕╖р╣Йр╕Щ HP/MP р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- **Events System** - р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╣Ж

## ЁЯФз р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

### Step 1: р╕кр╕гр╣Йр╕▓р╕З GameObject
1. р╕кр╕гр╣Йр╕▓р╕З GameObject р╕зр╣Ир╕▓р╕Зр╣Ж р╣Гр╕Щ Unity
2. р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╕зр╣Ир╕▓ `PlayerStatsManager`

### Step 2: р╣Ар╕Юр╕┤р╣Ир╕б Component
1. р╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣И GameObject `PlayerStatsManager`
2. р╣Гр╕Щ Inspector р╕Др╕ер╕┤р╕Б **Add Component**
3. р╕Др╣Йр╕Щр╕лр╕▓р╣Бр╕ер╕░р╣Ар╕Юр╕┤р╣Ир╕б **PlayerStatsManager**

### Step 3: р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Inspector

#### ЁЯУК Player Stats Data
- **Stats**: р╕Ыр╕ер╣Ир╕нр╕вр╕зр╣Ир╕▓р╕Зр╣Др╕зр╣Й (р╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤) р╕лр╕гр╕╖р╕нр╕кр╕гр╣Йр╕▓р╕З PlayerStats р╕Бр╣Ир╕нр╕Щ

#### ЁЯОп UI References - Health & Mana
- **Health Text**: р╕ер╕▓р╕Б Text UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕З HP
- **Mana Text**: р╕ер╕▓р╕Б Text UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕З MP
- **Health Bar**: р╕ер╕▓р╕Б Slider UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Цр╕Ъ HP
- **Mana Bar**: р╕ер╕▓р╕Б Slider UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Цр╕Ъ MP

#### тЪФя╕П UI References - Combat Stats
- **Attack Text**: р╕ер╕▓р╕Б Text UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕З Attack
- **Defense Text**: р╕ер╕▓р╕Б Text UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕З Defense
- **Speed Text**: р╕ер╕▓р╕Б Text UI р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕З Speed

#### ЁЯУИ UI References - Additional Stats (Optional)
- **Level Text**: р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕кр╕Фр╕З Level
- **Experience Text**: р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕кр╕Фр╕З Experience
- **Base Stats Text**: р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ
- **Equipment Bonus Text**: р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕кр╕Фр╕Зр╣Вр╕Ър╕Щр╕▒р╕кр╕Ир╕▓р╕Б Equipment

#### ЁЯФз Settings
- **Real Time Update**: р╣Ар╕Ыр╕┤р╕Ф/р╕Ыр╕┤р╕Фр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х UI р╣Бр╕Ър╕Ъ real-time
- **Regeneration Interval**: р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓р╕Бр╕▓р╕гр╕Яр╕╖р╣Йр╕Щр╕Яр╕╣ (р╕зр╕┤р╕Щр╕▓р╕Чр╕╡)
- **Health Regen Amount**: HP р╕Чр╕╡р╣Ир╕Яр╕╖р╣Йр╕Щр╕Хр╣Ир╕нр╕Др╕гр╕▒р╣Йр╕З
- **Mana Regen Amount**: MP р╕Чр╕╡р╣Ир╕Яр╕╖р╣Йр╕Щр╕Хр╣Ир╕нр╕Др╕гр╕▒р╣Йр╕З

## ЁЯОи р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З UI Setup

### р╕кр╕гр╣Йр╕▓р╕З UI Elements:
1. **Canvas** - р╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕▓р╕З UI р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
2. **Panel** - р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕ер╕╕р╣Ир╕б UI
3. **Text Elements** - р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
4. **Slider Elements** - р╕кр╕│р╕лр╕гр╕▒р╕Ъ Health/Mana Bars

### р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З Hierarchy:
```
Canvas
тФЬтФАтФА PlayerStatsPanel
тФВ   тФЬтФАтФА HealthText (Text)
тФВ   тФЬтФАтФА ManaText (Text)
тФВ   тФЬтФАтФА HealthBar (Slider)
тФВ   тФЬтФАтФА ManaBar (Slider)
тФВ   тФЬтФАтФА AttackText (Text)
тФВ   тФЬтФАтФА DefenseText (Text)
тФВ   тФФтФАтФА SpeedText (Text)
тФФтФАтФА PlayerStatsManager (GameObject)
```

## ЁЯФЧ р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ

### Equipment System
- PlayerStatsManager р╕Ир╕░р╕лр╕▓ EquipmentManager р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- р╣Ар╕бр╕╖р╣Ир╕н Equipment р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ р╕кр╕Цр╕▓р╕Щр╕░р╕Ир╕░р╕Др╕│р╕Щр╕зр╕Ур╣Гр╕лр╕бр╣Ир╕Чр╕▒р╕Щр╕Чр╕╡

### Inventory System
- р╣Ар╕гр╕╡р╕вр╕Б `UseItem(itemData)` р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕б
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Яр╕╖р╣Йр╕Щ HP/MP

### Combat System
- р╣Ар╕гр╕╡р╕вр╕Б `TakeDamage(damage)` р╣Ар╕бр╕╖р╣Ир╕нр╣Вр╕Фр╕Щр╣Вр╕Ир╕бр╕Хр╕╡
- р╣Ар╕гр╕╡р╕вр╕Б `Heal(amount)` р╣Ар╕Юр╕╖р╣Ир╕нр╕Яр╕╖р╣Йр╕Щ HP

## ЁЯУЭ р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Гр╕Щ Script

### р╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Йр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ:
```csharp
// р╕лр╕▓ PlayerStatsManager
PlayerStatsManager statsManager = FindObjectOfType<PlayerStatsManager>();

// р╕Яр╕╖р╣Йр╕Щ HP
statsManager.Heal(50);

// р╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕кр╕╡р╕вр╕лр╕▓р╕в
statsManager.TakeDamage(20);

// р╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕б
statsManager.UseItem(healthPotion);

// р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░ (р╣Ар╕бр╕╖р╣Ир╕н Equipment р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ)
statsManager.UpdateStats();

// р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕▓р╕в
if (statsManager.IsDead())
{
    // р╕Чр╕│р╕нр╕░р╣Др╕гр╕Ър╕▓р╕Зр╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕бр╕╖р╣Ир╕нр╕Хр╕▓р╕в
}
```

### р╕Бр╕▓р╕гр╣Гр╕Кр╣Й Events:
```csharp
PlayerStatsManager statsManager = FindObjectOfType<PlayerStatsManager>();

// р╣Ар╕бр╕╖р╣Ир╕н HP р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ
statsManager.OnHealthChanged += (oldHealth, newHealth) => {
    Debug.Log($"HP changed from {oldHealth} to {newHealth}");
};

// р╣Ар╕бр╕╖р╣Ир╕нр╕Хр╕▓р╕в
statsManager.OnDeath += () => {
    Debug.Log("Player died!");
    // р╣Бр╕кр╕Фр╕З Game Over screen
};
```

## ЁЯОп р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ PlayerStats

### р╣Бр╕Бр╣Йр╣Др╕Вр╕Др╣Ир╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ:
```csharp
// р╣Гр╕Щ Start() р╕лр╕гр╕╖р╕н Inspector
PlayerStats stats = new PlayerStats();
stats.maxHealth = 150;
stats.currentHealth = 150;
stats.maxMana = 75;
stats.currentMana = 75;
stats.baseAttack = 15;
stats.baseDefense = 8;
stats.baseSpeed = 5;

// р╕Бр╕│р╕лр╕Щр╕Фр╣Гр╕лр╣Й PlayerStatsManager
statsManager.stats = stats;
```

## ЁЯЪА р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:
1. р╕гр╕▒р╕Щр╣Ар╕Бр╕б
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console р╕зр╣Ир╕▓р╕бр╕╡р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б "тЬЕ PlayerStatsManager initialized successfully!"
3. р╕Фр╕╣ UI р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
4. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕кр╕зр╕бр╣Гр╕кр╣И Equipment - р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕зр╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ
5. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕б - HP/MP р╕Др╕зр╕гр╕Яр╕╖р╣Йр╕Щ

### Debug Messages:
- тЬЕ "PlayerStatsManager initialized successfully!"
- ЁЯФЧ "EquipmentManager found and linked!"
- тЪФя╕П "Equipment bonus from [ItemName]: ATK+X DEF+Y SPD+Z"
- ЁЯТЪ "Healed X HP. Current: Y/Z"
- ЁЯТФ "Took X damage. Current: Y/Z"

## ЁЯФз р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в:

#### 1. UI р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕ер╕▓р╕Б UI Components р╕бр╕▓р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╣Гр╕Щ Inspector р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Text/Slider р╕бр╕╡ Component р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ

#### 2. Equipment р╣Др╕бр╣Ир╕Др╕│р╕Щр╕зр╕У
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡ EquipmentManager р╣Гр╕Щ Scene р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console р╕зр╣Ир╕▓р╕бр╕╡р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б "EquipmentManager found and linked!"

#### 3. р╣Др╕бр╣Ир╕бр╕╡ PlayerStatsManager Component
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Script р╕Др╕нр╕бр╣Др╕Юр╕ер╣Мр╕кр╕│р╣Ар╕гр╣Зр╕И (р╣Др╕бр╣Ир╕бр╕╡ Error)
- р╕гр╕╡р╣Ар╕Яр╕гр╕К Unity (Ctrl+R) р╣Бр╕ер╣Йр╕зр╕ер╕нр╕Зр╣Ар╕Юр╕┤р╣Ир╕б Component р╣Гр╕лр╕бр╣И

## ЁЯОЙ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ!

р╣Ар╕бр╕╖р╣Ир╕нр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з р╕гр╕░р╕Ър╕Ъ PlayerStatsManager р╕Ир╕░:
- тЬЕ р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕Цр╕▓р╕Щр╕░р╕Ьр╕╣р╣Йр╣Ар╕ер╣Ир╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- тЬЕ р╕Др╕│р╕Щр╕зр╕Ур╕кр╕Цр╕▓р╕Щр╕░р╕гр╕зр╕бр╕Ир╕▓р╕Б Equipment
- тЬЕ р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х UI р╣Бр╕Ър╕Ъ real-time
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╣Др╕нр╣Ар╕Чр╣Зр╕бр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕╣р╣Й
- тЬЕ р╕бр╕╡ Events р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╣Ж

р╕гр╕░р╕Ър╕Ър╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕ер╣Йр╕з! ЁЯОо
